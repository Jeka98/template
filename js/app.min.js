"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".menu"),t=document.querySelector(".nav__burger"),r=document.querySelector(".order-form__discount"),n=document.querySelector(".order-form__discount-title span"),c=document.querySelector(".order-form__file"),i=document.querySelector(".order-form__file-button span"),o=document.querySelector(".header");t.addEventListener("click",(function(){t.classList.toggle("active"),t.classList.contains("active")?e.classList.add("active"):e.classList.remove("active")})),r.addEventListener("input",(function(){var e=r.value;n.textContent="".concat(e," %")})),c.addEventListener("change",(function(){if(c.value){var e=c.value.split("\\"),t=e[e.length-1];return i.innerText=t}return i.innerText="Прикрепить файл"}));var l=function(){function e(t){_classCallCheck(this,e),this.selectElement=t}return _createClass(e,[{key:"drawList",value:function(){var e=document.createElement("ul");e.classList.add("order-form__system-choice-list");for(var t=1;t<this.selectElement.children.length;t++){var r=document.createElement("li");r.innerText=this.selectElement.children[t].innerText,e.appendChild(r)}return e}},{key:"getActiveList",value:function(e,t){e.classList.toggle("active"),t.classList.toggle("active")}},{key:"deleteAllActive",value:function(e){return e.classList.remove("active")}},{key:"getActiveButton",value:function(e,t,r){var n=t.querySelector("span");return t.classList.remove("active"),r.classList.remove("active"),n.innerText=e.innerText,t}},{key:"toggleSelectAttr",value:function(e,t){return e.innerText===t.innerText?e.setAttribute("selected",""):e.removeAttribute("selected")}},{key:"getActiveListElement",value:function(e,t,r){var n=this;e.addEventListener("click",(function(c){c.preventDefault();for(var i=0;i<e.children.length;i++)n.deleteAllActive(e.children[i]);c.target.classList.add("active"),n.getActiveButton(c.target,r,e);for(var o=0;o<t.length;o++)n.toggleSelectAttr(t[o],r)}))}}]),e}(),s=document.querySelector(".order-form__system-choice-select"),a=document.querySelector(".order-form__system-choice-wrapper"),u=document.querySelector(".order-form__system-choice"),d=new l(s);if(a.appendChild(d.drawList())){var v=document.querySelector(".order-form__system-choice-list");u.addEventListener("click",(function(){return d.getActiveList(u,v)})),d.getActiveListElement(v,s.children,u)}window.addEventListener("scroll",(function(){window.scrollY>=250?o.classList.add("fixed-header"):o.classList.remove("fixed-header")}))}));